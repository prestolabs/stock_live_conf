{
  "basic_data": [
    "TRADE_CLOSE",
    "TRADE_QTY",
    "TRADE_PQ",
    "TRADE_BUY_PQ_INFERRED",
    "TRADE_BUY_COUNT_INFERRED",
    "TRADE_BUY_QTY_INFERRED",
    "TRADE_SELL_PQ_INFERRED",
    "TRADE_SELL_COUNT_INFERRED",
    "TRADE_SELL_QTY_INFERRED",
    "TRADE_HIGH",
    "BOOK_VALID_COUNT",
    "TRADE_LOW",
    "ESTIMATED_MID_PRICE_CLOSE",
    "TRADE_COUNT",
    "SPREAD_CLOSE",
    "TRADE_OPEN",
    "ESTIMATED_ASK_0_PRICE",
    "ASK_0_QTY",
    "ESTIMATED_BID_0_PRICE",
    "BID_0_QTY",
    "MOVE_BPS_SUM",
    "SPREAD_SUM",
    "ODD_LOT_TRADE_QTY",
    "TRADE_ODD_LOT_PQ"
  ],
  "expression": [
    "prev_5days_interval_length",
    "sector_top2000",
    "interval_4hour = 240",
    "interval_1day = 390",
    "interval_2day = 780",
    "interval_3day = 1170",
    "interval_4day = 1560",
    "interval_5day = 1950",
    "MARKET_START_INDEX = prev_5days_interval_length",
    "TODAY_INTERVAL_INDEX = If(Ge(IntervalIndex(), MARKET_START_INDEX), Subtract(IntervalIndex(), MARKET_START_INDEX), 0)",
    "sector_filter = Or(Or(Eq(sector_top2000, 40), Eq(sector_top2000, 45)), Eq(sector_top2000, 50))",
    "universe = Fillforward(TOP200, interval_1day)",
    "MOVE_BPS_SUM",
    "TRADE_CLOSE",
    "TRADE_QTY",
    "TRADE_PQ",
    "TRADE_BUY_PQ_INFERRED",
    "TRADE_BUY_COUNT_INFERRED",
    "TRADE_BUY_QTY_INFERRED",
    "TRADE_SELL_PQ_INFERRED",
    "TRADE_SELL_COUNT_INFERRED",
    "TRADE_SELL_QTY_INFERRED",
    "TRADE_PQ_INFERRED = Add(TRADE_BUY_PQ_INFERRED, TRADE_SELL_PQ_INFERRED)",
    "ADJ_FACTOR = adj_factor",
    "nshares_day",
    "prev_adj_factor",
    "prev_open_day",
    "prev_high_day",
    "prev_low_day",
    "prev_close_day",
    "prev_5days_max_volatility",
    "prev_5days_max_atr",
    "prev_5days_intra_volatility",
    "prev2_close_2_prev_close",
    "prev_open_2_prev_close",
    "SPREAD_CLOSE",
    "prev_5days_ovn_volatility",
    "prev_turnover_rank_top2000",
    "log_prev_rotation",
    "exch",
    "HHMMSS = hhmmss",
    "ASK_PQ = Multiply(ESTIMATED_ASK_0_PRICE, ASK_0_QTY)",
    "BID_PQ = Multiply(ESTIMATED_BID_0_PRICE, BID_0_QTY)",
    "ASK_QTY = ASK_0_QTY",
    "BID_QTY = BID_0_QTY",
    "EXIST_TRADE = Gt(TRADE_COUNT, 0)",
    "EXIST_VALID_BOOK = Gt(BOOK_VALID_COUNT, 0)",
    "VALID = universe",
    "SELL_VALID = EXIST_VALID_BOOK",
    "UNIVERSE_OUT_VALID = Negation(universe)",
    "CLOSE_PRICE = Fillforward(Multiply(TRADE_CLOSE, adj_factor), interval_1day)",
    "Return2(w1, w2) = Subtract(Divide(Delay(CLOSE_PRICE, w1), Delay(CLOSE_PRICE, w2)), 1)",
    "SeasonalityReturn(w1, w2, w3) = TsGapMean(NanToZero(Return2(w1, w2)), w3, w2)",
    "SeasonalityReturn2(w1, w2, w3) = TsGapMean(Subtract(Multiply(2, NanToZero(Return2(w1, w2))), NanToZero(Return2(0, w2))), w3, w2)",
    "DiffRatio(x, y) = Divide(Subtract(x, y), Add(x, y))",
    "TsMean(x, w) = Divide(TsSum(x, w), TsSum(IsFinite(x), w))",
    "CsMean(x) = Divide(CsSum(x, universe), CsSum(IsFinite(x), universe))",
    "Neut(x) = Subtract(x, CsMean(x))",
    "ExchangeNeut(x) = CsGroupNeutralize(x, exch, universe)",
    "Vwap(w) = Divide(TsSum(TRADE_PQ, w), ZeroToNan(TsSum(Divide(TRADE_QTY, adj_factor), w)))",
    "BuyVwap(w) = Divide(TsSum(TRADE_BUY_PQ_INFERRED, w), TsSum(Divide(TRADE_BUY_QTY_INFERRED, adj_factor), w))",
    "SellVwap(w) = Divide(TsSum(TRADE_SELL_PQ_INFERRED, w), TsSum(Divide(TRADE_SELL_QTY_INFERRED, adj_factor), w))",
    "Return(x, y) = Subtract(Divide(y, x), 1)",
    "MidPriceReturn(w) = NanToZero(Return(Delay(CLOSE_PRICE, w), CLOSE_PRICE))",
    "TradePriceReturn(w) = NanToZero(Return(Delay(Multiply(TRADE_CLOSE, adj_factor), w), Multiply(TRADE_CLOSE, adj_factor)))",
    "High2MidReturn(w) = NanToZero(Return(TsMax(Multiply(TRADE_HIGH, adj_factor), w), CLOSE_PRICE))",
    "Low2MidReturn(w) = NanToZero(Return(TsMin(Multiply(TRADE_LOW, adj_factor), w), CLOSE_PRICE))",
    "Sma2MidReturn(w) = NanToZero(Return(TsMean(CLOSE_PRICE, w), CLOSE_PRICE))",
    "Vwap2MidReturn(w) = NanToZero(Return(Vwap(w), CLOSE_PRICE))",
    "BuyVwap2SellVwapReturn(w) = NanToZero(Return(SellVwap(w), ZeroToNan(BuyVwap(w))))",
    "MomentumRatio(w) = NanToZero(Subtract(Return(TsMin(Multiply(TRADE_LOW, adj_factor), w), CLOSE_PRICE), Return(CLOSE_PRICE, TsMax(Multiply(TRADE_HIGH, adj_factor), w))))",
    "MomentumPower(w1, w2) = NanToZero(Multiply(MidPriceReturn(w1), Divide(TsSum(TRADE_PQ, w1), ZeroToNan(TsSum(TRADE_PQ, w2)))))",
    "RotationRatio(w) = NanToZero(Divide(TsSum(TRADE_PQ, w), Multiply(CLOSE_PRICE, nshares_day)))",
    "NetRotationRatio(w) = NanToZero(Divide(Subtract(TsSum(TRADE_BUY_PQ_INFERRED, w), TsSum(TRADE_SELL_PQ_INFERRED, w)), Multiply(CLOSE_PRICE, nshares_day)))",
    "TradeRatio(w1, w2) = NanToZero(Divide(TsSum(TRADE_PQ, w1), ZeroToNan(TsSum(TRADE_PQ, w2))))",
    "NetTradeRatio(w1, w2) = NanToZero(Divide(Subtract(TsSum(TRADE_BUY_PQ_INFERRED, w1), TsSum(TRADE_SELL_PQ_INFERRED, w1)), ZeroToNan(TsSum(TRADE_PQ, w2))))",
    "TradeBookRatio(w) = NanToZero(Divide(TsSum(TRADE_PQ, w), Add(ZeroToNan(TsMean(ASK_PQ, w)), ZeroToNan(TsMean(BID_PQ, w)))))",
    "NetTradeBookRatio(w) = NanToZero(Divide(Subtract(TsSum(TRADE_BUY_PQ_INFERRED, w), TsSum(TRADE_SELL_PQ_INFERRED, w)), Add(ZeroToNan(ASK_PQ), ZeroToNan(BID_PQ))))",
    "TradePressure(w) = NanToZero(Divide(Subtract(TsSum(TRADE_BUY_PQ_INFERRED, w), TsSum(TRADE_SELL_PQ_INFERRED, w)), Add(ZeroToNan(TsSum(TRADE_BUY_PQ_INFERRED, w)), ZeroToNan(TsSum(TRADE_SELL_PQ_INFERRED, w)))))",
    "BookPressure(w) = NanToZero(Divide(Subtract(TsMean(ASK_PQ, w), TsMean(BID_PQ, w)), Add(ZeroToNan(TsMean(ASK_PQ, w)), ZeroToNan(TsMean(BID_PQ, w)))))",
    "Volatility(w) = NanToZero(Divide(Subtract(TsMax(Multiply(TRADE_HIGH, adj_factor), w), TsMin(Multiply(TRADE_LOW, adj_factor), w)), Add(TsMax(Multiply(TRADE_HIGH, adj_factor), w), TsMin(Multiply(TRADE_LOW, adj_factor), w))))",
    "TsGapMean(x, w1, w2) = Divide(TsGapSum(x, w1, w2), TsGapSum(IsFinite(x), w1, w2))",
    "TsGapStd(x, w1, w2) = Sqrt(Subtract(TsGapMean(Pow(x, 2), w1, w2), Pow(TsGapMean(x, w1, w2), 2)))",
    "TsGapZscore(x, w1, w2) = Divide(Subtract(x, TsGapMean(x, w1, w2)), TsGapStd(x, w1, w2))",

    //
    "LOG_PREV_ROTATION.signal = log_prev_rotation",
    "PREV2_CLOSE_2_PREV_CLOSE.signal = prev2_close_2_prev_close",
    "PREV2_CLOSE_2_PREV_CLOSE_GROUP.signal = CsMean(prev2_close_2_prev_close)",
    "PREV2_CLOSE_2_PREV_CLOSE_REL.signal = ExchangeNeut(prev2_close_2_prev_close)",
    "PROGRESS.signal = Divide(TODAY_INTERVAL_INDEX, interval_1day)",
    "PREV_CLOSE_2_PRICE.signal = Return(Multiply(prev_adj_factor, prev_close_day), CLOSE_PRICE)",
    "PREV_CLOSE_2_PRICE_GROUP.signal = CsMean(Return(Multiply(prev_adj_factor, prev_close_day), CLOSE_PRICE))",
    "PREV_CLOSE_2_PRICE_REL.signal = ExchangeNeut(Return(Multiply(prev_adj_factor, prev_close_day), CLOSE_PRICE))",
    "PREV_OPEN_2_PREV_CLOSE.signal = prev_open_2_prev_close",
    "PREV_OPEN_2_PREV_CLOSE_GROUP.signal = CsMean(prev_open_2_prev_close)",
    "PREV_OPEN_2_PREV_CLOSE_REL.signal = ExchangeNeut(prev_open_2_prev_close)",
    //

    "BOOK_PRESSURE_1D.signal = BookPressure(interval_1day)",
    "BOOK_PRESSURE_1D_GROUP.signal = CsMean(BookPressure(interval_1day))",
    "BOOK_PRESSURE_1D_REL.signal = ExchangeNeut(BookPressure(interval_1day))",
    "BOOK_PRESSURE_2D.signal = BookPressure(interval_2day)",
    "BOOK_PRESSURE_2D_GROUP.signal = CsMean(BookPressure(interval_2day))",
    "BOOK_PRESSURE_2D_REL.signal = ExchangeNeut(BookPressure(interval_2day))",
    "BOOK_PRESSURE_3D.signal = BookPressure(interval_3day)",
    "BOOK_PRESSURE_3D_GROUP.signal = CsMean(BookPressure(interval_3day))",
    "BOOK_PRESSURE_3D_REL.signal = ExchangeNeut(BookPressure(interval_3day))",
    "BOOK_PRESSURE_4D.signal = BookPressure(interval_4day)",
    "BOOK_PRESSURE_4D_GROUP.signal = CsMean(BookPressure(interval_4day))",
    "BOOK_PRESSURE_4D_REL.signal = ExchangeNeut(BookPressure(interval_4day))",
    "BOOK_PRESSURE_5D.signal = BookPressure(interval_5day)",
    "BOOK_PRESSURE_5D_GROUP.signal = CsMean(BookPressure(interval_5day))",
    "BOOK_PRESSURE_5D_REL.signal = ExchangeNeut(BookPressure(interval_5day))",
    "BUY_VWAP_2_SELL_VWAP_1D.signal = BuyVwap2SellVwapReturn(interval_1day)",
    "BUY_VWAP_2_SELL_VWAP_1D_GROUP.signal = CsMean(BuyVwap2SellVwapReturn(interval_1day))",
    "BUY_VWAP_2_SELL_VWAP_1D_REL.signal = ExchangeNeut(BuyVwap2SellVwapReturn(interval_1day))",
    "BUY_VWAP_2_SELL_VWAP_2D.signal = BuyVwap2SellVwapReturn(interval_2day)",
    "BUY_VWAP_2_SELL_VWAP_2D_GROUP.signal = CsMean(BuyVwap2SellVwapReturn(interval_2day))",
    "BUY_VWAP_2_SELL_VWAP_2D_REL.signal = ExchangeNeut(BuyVwap2SellVwapReturn(interval_2day))",
    "BUY_VWAP_2_SELL_VWAP_3D.signal = BuyVwap2SellVwapReturn(interval_3day)",
    "BUY_VWAP_2_SELL_VWAP_3D_GROUP.signal = CsMean(BuyVwap2SellVwapReturn(interval_3day))",
    "BUY_VWAP_2_SELL_VWAP_3D_REL.signal = ExchangeNeut(BuyVwap2SellVwapReturn(interval_3day))",
    "BUY_VWAP_2_SELL_VWAP_4D.signal = BuyVwap2SellVwapReturn(interval_4day)",
    "BUY_VWAP_2_SELL_VWAP_4D_GROUP.signal = CsMean(BuyVwap2SellVwapReturn(interval_4day))",
    "BUY_VWAP_2_SELL_VWAP_4D_REL.signal = ExchangeNeut(BuyVwap2SellVwapReturn(interval_4day))",
    "BUY_VWAP_2_SELL_VWAP_5D.signal = BuyVwap2SellVwapReturn(interval_5day)",
    "BUY_VWAP_2_SELL_VWAP_5D_GROUP.signal = CsMean(BuyVwap2SellVwapReturn(interval_5day))",
    "BUY_VWAP_2_SELL_VWAP_5D_REL.signal = ExchangeNeut(BuyVwap2SellVwapReturn(interval_5day))",
    "HIGH_2_MID_1D.signal = High2MidReturn(interval_1day)",
    "HIGH_2_MID_1D_GROUP.signal = CsMean(High2MidReturn(interval_1day))",
    "HIGH_2_MID_1D_REL.signal = ExchangeNeut(High2MidReturn(interval_1day))",
    "HIGH_2_MID_2D.signal = High2MidReturn(interval_2day)",
    "HIGH_2_MID_2D_GROUP.signal = CsMean(High2MidReturn(interval_2day))",
    "HIGH_2_MID_2D_REL.signal = ExchangeNeut(High2MidReturn(interval_2day))",
    "HIGH_2_MID_3D.signal = High2MidReturn(interval_3day)",
    "HIGH_2_MID_3D_GROUP.signal = CsMean(High2MidReturn(interval_3day))",
    "HIGH_2_MID_3D_REL.signal = ExchangeNeut(High2MidReturn(interval_3day))",
    "HIGH_2_MID_4D.signal = High2MidReturn(interval_4day)",
    "HIGH_2_MID_4D_GROUP.signal = CsMean(High2MidReturn(interval_4day))",
    "HIGH_2_MID_4D_REL.signal = ExchangeNeut(High2MidReturn(interval_4day))",
    "HIGH_2_MID_5D.signal = High2MidReturn(interval_5day)",
    "HIGH_2_MID_5D_GROUP.signal = CsMean(High2MidReturn(interval_5day))",
    "HIGH_2_MID_5D_REL.signal = ExchangeNeut(High2MidReturn(interval_5day))",
    "LOW_2_MID_1D.signal = Low2MidReturn(interval_1day)",
    "LOW_2_MID_1D_GROUP.signal = CsMean(Low2MidReturn(interval_1day))",
    "LOW_2_MID_1D_REL.signal = ExchangeNeut(Low2MidReturn(interval_1day))",
    "LOW_2_MID_2D.signal = Low2MidReturn(interval_2day)",
    "LOW_2_MID_2D_GROUP.signal = CsMean(Low2MidReturn(interval_2day))",
    "LOW_2_MID_2D_REL.signal = ExchangeNeut(Low2MidReturn(interval_2day))",
    "LOW_2_MID_3D.signal = Low2MidReturn(interval_3day)",
    "LOW_2_MID_3D_GROUP.signal = CsMean(Low2MidReturn(interval_3day))",
    "LOW_2_MID_3D_REL.signal = ExchangeNeut(Low2MidReturn(interval_3day))",
    "LOW_2_MID_4D.signal = Low2MidReturn(interval_4day)",
    "LOW_2_MID_4D_GROUP.signal = CsMean(Low2MidReturn(interval_4day))",
    "LOW_2_MID_4D_REL.signal = ExchangeNeut(Low2MidReturn(interval_4day))",
    "LOW_2_MID_5D.signal = Low2MidReturn(interval_5day)",
    "LOW_2_MID_5D_GROUP.signal = CsMean(Low2MidReturn(interval_5day))",
    "LOW_2_MID_5D_REL.signal = ExchangeNeut(Low2MidReturn(interval_5day))",
    "MID_2_MID_1D.signal = MidPriceReturn(interval_1day)",
    "MID_2_MID_1D_GROUP.signal = CsMean(MidPriceReturn(interval_1day))",
    "MID_2_MID_1D_REL.signal = ExchangeNeut(MidPriceReturn(interval_1day))",
    "MID_2_MID_2D.signal = MidPriceReturn(interval_2day)",
    "MID_2_MID_2D_GROUP.signal = CsMean(MidPriceReturn(interval_2day))",
    "MID_2_MID_2D_REL.signal = ExchangeNeut(MidPriceReturn(interval_2day))",
    "MID_2_MID_3D.signal = MidPriceReturn(interval_3day)",
    "MID_2_MID_3D_GROUP.signal = CsMean(MidPriceReturn(interval_3day))",
    "MID_2_MID_3D_REL.signal = ExchangeNeut(MidPriceReturn(interval_3day))",
    "MID_2_MID_4D.signal = MidPriceReturn(interval_4day)",
    "MID_2_MID_4D_GROUP.signal = CsMean(MidPriceReturn(interval_4day))",
    "MID_2_MID_4D_REL.signal = ExchangeNeut(MidPriceReturn(interval_4day))",
    "MID_2_MID_5D.signal = MidPriceReturn(interval_5day)",
    "MID_2_MID_5D_GROUP.signal = CsMean(MidPriceReturn(interval_5day))",
    "MID_2_MID_5D_REL.signal = ExchangeNeut(MidPriceReturn(interval_5day))",
    "VOLATILITY_1D.signal = Volatility(interval_1day)",
    "VOLATILITY_1D_GROUP.signal = CsMean(Volatility(interval_1day))",
    "VOLATILITY_1D_REL.signal = ExchangeNeut(Volatility(interval_1day))",
    "VOLATILITY_2D.signal = Volatility(interval_2day)",
    "VOLATILITY_2D_GROUP.signal = CsMean(Volatility(interval_2day))",
    "VOLATILITY_2D_REL.signal = ExchangeNeut(Volatility(interval_2day))",
    "VOLATILITY_3D.signal = Volatility(interval_3day)",
    "VOLATILITY_3D_GROUP.signal = CsMean(Volatility(interval_3day))",
    "VOLATILITY_3D_REL.signal = ExchangeNeut(Volatility(interval_3day))",
    "VOLATILITY_4D.signal = Volatility(interval_4day)",
    "VOLATILITY_4D_GROUP.signal = CsMean(Volatility(interval_4day))",
    "VOLATILITY_4D_REL.signal = ExchangeNeut(Volatility(interval_4day))",
    "VOLATILITY_5D.signal = Volatility(interval_5day)",
    "VOLATILITY_5D_GROUP.signal = CsMean(Volatility(interval_5day))",
    "VOLATILITY_5D_REL.signal = ExchangeNeut(Volatility(interval_5day))",
    "MOMENTUM_RATIO_1D.signal = MomentumRatio(interval_1day)",
    "MOMENTUM_RATIO_1D_GROUP.signal = CsMean(MomentumRatio(interval_1day))",
    "MOMENTUM_RATIO_1D_REL.signal = ExchangeNeut(MomentumRatio(interval_1day))",
    "MOMENTUM_RATIO_2D.signal = MomentumRatio(interval_2day)",
    "MOMENTUM_RATIO_2D_GROUP.signal = CsMean(MomentumRatio(interval_2day))",
    "MOMENTUM_RATIO_2D_REL.signal = ExchangeNeut(MomentumRatio(interval_2day))",
    "MOMENTUM_RATIO_3D.signal = MomentumRatio(interval_3day)",
    "MOMENTUM_RATIO_3D_GROUP.signal = CsMean(MomentumRatio(interval_3day))",
    "MOMENTUM_RATIO_3D_REL.signal = ExchangeNeut(MomentumRatio(interval_3day))",
    "MOMENTUM_RATIO_4D.signal = MomentumRatio(interval_4day)",
    "MOMENTUM_RATIO_4D_GROUP.signal = CsMean(MomentumRatio(interval_4day))",
    "MOMENTUM_RATIO_4D_REL.signal = ExchangeNeut(MomentumRatio(interval_4day))",
    "MOMENTUM_RATIO_5D.signal = MomentumRatio(interval_5day)",
    "MOMENTUM_RATIO_5D_GROUP.signal = CsMean(MomentumRatio(interval_5day))",
    "MOMENTUM_RATIO_5D_REL.signal = ExchangeNeut(MomentumRatio(interval_5day))",
    "TRADE_PRESSURE_1D.signal = TradePressure(interval_1day)",
    "TRADE_PRESSURE_1D_GROUP.signal = CsMean(TradePressure(interval_1day))",
    "TRADE_PRESSURE_1D_REL.signal = ExchangeNeut(TradePressure(interval_1day))",
    "TRADE_PRESSURE_2D.signal = TradePressure(interval_2day)",
    "TRADE_PRESSURE_2D_GROUP.signal = CsMean(TradePressure(interval_2day))",
    "TRADE_PRESSURE_2D_REL.signal = ExchangeNeut(TradePressure(interval_2day))",
    "TRADE_PRESSURE_3D.signal = TradePressure(interval_3day)",
    "TRADE_PRESSURE_3D_GROUP.signal = CsMean(TradePressure(interval_3day))",
    "TRADE_PRESSURE_3D_REL.signal = ExchangeNeut(TradePressure(interval_3day))",
    "TRADE_PRESSURE_4D.signal = TradePressure(interval_4day)",
    "TRADE_PRESSURE_4D_GROUP.signal = CsMean(TradePressure(interval_4day))",
    "TRADE_PRESSURE_4D_REL.signal = ExchangeNeut(TradePressure(interval_4day))",
    "TRADE_PRESSURE_5D.signal = TradePressure(interval_5day)",
    "TRADE_PRESSURE_5D_GROUP.signal = CsMean(TradePressure(interval_5day))",
    "TRADE_PRESSURE_5D_REL.signal = ExchangeNeut(TradePressure(interval_5day))",
    "MOMENTUM_POWER_1D.signal = MomentumPower(interval_1day, interval_5day)",
    "MOMENTUM_POWER_1D_GROUP.signal = CsMean(MomentumPower(interval_1day, interval_5day))",
    "MOMENTUM_POWER_1D_REL.signal = ExchangeNeut(MomentumPower(interval_1day, interval_5day))",
    "MOMENTUM_POWER_2D.signal = MomentumPower(interval_2day, interval_5day)",
    "MOMENTUM_POWER_2D_GROUP.signal = CsMean(MomentumPower(interval_2day, interval_5day))",
    "MOMENTUM_POWER_2D_REL.signal = ExchangeNeut(MomentumPower(interval_2day, interval_5day))",
    "MOMENTUM_POWER_3D.signal = MomentumPower(interval_3day, interval_5day)",
    "MOMENTUM_POWER_3D_GROUP.signal = CsMean(MomentumPower(interval_3day, interval_5day))",
    "MOMENTUM_POWER_3D_REL.signal = ExchangeNeut(MomentumPower(interval_3day, interval_5day))",
    "MOMENTUM_POWER_4D.signal = MomentumPower(interval_4day, interval_5day)",
    "MOMENTUM_POWER_4D_GROUP.signal = CsMean(MomentumPower(interval_4day, interval_5day))",
    "MOMENTUM_POWER_4D_REL.signal = ExchangeNeut(MomentumPower(interval_4day, interval_5day))",
    "NET_ROTATION_RATIO_1D.signal = NetRotationRatio(interval_1day)",
    "NET_ROTATION_RATIO_1D_GROUP.signal = CsMean(NetRotationRatio(interval_1day))",
    "NET_ROTATION_RATIO_1D_REL.signal = ExchangeNeut(NetRotationRatio(interval_1day))",
    "NET_ROTATION_RATIO_2D.signal = NetRotationRatio(interval_2day)",
    "NET_ROTATION_RATIO_2D_GROUP.signal = CsMean(NetRotationRatio(interval_2day))",
    "NET_ROTATION_RATIO_2D_REL.signal = ExchangeNeut(NetRotationRatio(interval_2day))",
    "NET_ROTATION_RATIO_3D.signal = NetRotationRatio(interval_3day)",
    "NET_ROTATION_RATIO_3D_GROUP.signal = CsMean(NetRotationRatio(interval_3day))",
    "NET_ROTATION_RATIO_3D_REL.signal = ExchangeNeut(NetRotationRatio(interval_3day))",
    "NET_ROTATION_RATIO_4D.signal = NetRotationRatio(interval_4day)",
    "NET_ROTATION_RATIO_4D_GROUP.signal = CsMean(NetRotationRatio(interval_4day))",
    "NET_ROTATION_RATIO_4D_REL.signal = ExchangeNeut(NetRotationRatio(interval_4day))",
    "NET_ROTATION_RATIO_5D.signal = NetRotationRatio(interval_5day)",
    "NET_ROTATION_RATIO_5D_GROUP.signal = CsMean(NetRotationRatio(interval_5day))",
    "NET_ROTATION_RATIO_5D_REL.signal = ExchangeNeut(NetRotationRatio(interval_5day))",
    "NET_TRADE_BOOK_RATIO_1D.signal = NetTradeBookRatio(interval_1day)",
    "NET_TRADE_BOOK_RATIO_1D_GROUP.signal = CsMean(NetTradeBookRatio(interval_1day))",
    "NET_TRADE_BOOK_RATIO_1D_REL.signal = ExchangeNeut(NetTradeBookRatio(interval_1day))",
    "NET_TRADE_BOOK_RATIO_2D.signal = NetTradeBookRatio(interval_2day)",
    "NET_TRADE_BOOK_RATIO_2D_GROUP.signal = CsMean(NetTradeBookRatio(interval_2day))",
    "NET_TRADE_BOOK_RATIO_2D_REL.signal = ExchangeNeut(NetTradeBookRatio(interval_2day))",
    "NET_TRADE_BOOK_RATIO_3D.signal = NetTradeBookRatio(interval_3day)",
    "NET_TRADE_BOOK_RATIO_3D_GROUP.signal = CsMean(NetTradeBookRatio(interval_3day))",
    "NET_TRADE_BOOK_RATIO_3D_REL.signal = ExchangeNeut(NetTradeBookRatio(interval_3day))",
    "NET_TRADE_BOOK_RATIO_4D.signal = NetTradeBookRatio(interval_4day)",
    "NET_TRADE_BOOK_RATIO_4D_GROUP.signal = CsMean(NetTradeBookRatio(interval_4day))",
    "NET_TRADE_BOOK_RATIO_4D_REL.signal = ExchangeNeut(NetTradeBookRatio(interval_4day))",
    "NET_TRADE_BOOK_RATIO_5D.signal = NetTradeBookRatio(interval_5day)",
    "NET_TRADE_BOOK_RATIO_5D_GROUP.signal = CsMean(NetTradeBookRatio(interval_5day))",
    "NET_TRADE_BOOK_RATIO_5D_REL.signal = ExchangeNeut(NetTradeBookRatio(interval_5day))",
    "NET_TRADE_RATIO_1D.signal = NetTradeRatio(interval_1day, interval_5day)",
    "NET_TRADE_RATIO_1D_GROUP.signal = CsMean(NetTradeRatio(interval_1day, interval_5day))",
    "NET_TRADE_RATIO_1D_REL.signal = ExchangeNeut(NetTradeRatio(interval_1day, interval_5day))",
    "NET_TRADE_RATIO_2D.signal = NetTradeRatio(interval_2day, interval_5day)",
    "NET_TRADE_RATIO_2D_GROUP.signal = CsMean(NetTradeRatio(interval_2day, interval_5day))",
    "NET_TRADE_RATIO_2D_REL.signal = ExchangeNeut(NetTradeRatio(interval_2day, interval_5day))",
    "NET_TRADE_RATIO_3D.signal = NetTradeRatio(interval_3day, interval_5day)",
    "NET_TRADE_RATIO_3D_GROUP.signal = CsMean(NetTradeRatio(interval_3day, interval_5day))",
    "NET_TRADE_RATIO_3D_REL.signal = ExchangeNeut(NetTradeRatio(interval_3day, interval_5day))",
    "NET_TRADE_RATIO_4D.signal = NetTradeRatio(interval_4day, interval_5day)",
    "NET_TRADE_RATIO_4D_GROUP.signal = CsMean(NetTradeRatio(interval_4day, interval_5day))",
    "NET_TRADE_RATIO_4D_REL.signal = ExchangeNeut(NetTradeRatio(interval_4day, interval_5day))",
    "ROTATION_RATIO_1D.signal = RotationRatio(interval_1day)",
    "ROTATION_RATIO_1D_GROUP.signal = CsMean(RotationRatio(interval_1day))",
    "ROTATION_RATIO_1D_REL.signal = ExchangeNeut(RotationRatio(interval_1day))",
    "ROTATION_RATIO_2D.signal = RotationRatio(interval_2day)",
    "ROTATION_RATIO_2D_GROUP.signal = CsMean(RotationRatio(interval_2day))",
    "ROTATION_RATIO_2D_REL.signal = ExchangeNeut(RotationRatio(interval_2day))",
    "ROTATION_RATIO_3D.signal = RotationRatio(interval_3day)",
    "ROTATION_RATIO_3D_GROUP.signal = CsMean(RotationRatio(interval_3day))",
    "ROTATION_RATIO_3D_REL.signal = ExchangeNeut(RotationRatio(interval_3day))",
    "ROTATION_RATIO_4D.signal = RotationRatio(interval_4day)",
    "ROTATION_RATIO_4D_GROUP.signal = CsMean(RotationRatio(interval_4day))",
    "ROTATION_RATIO_4D_REL.signal = ExchangeNeut(RotationRatio(interval_4day))",
    "ROTATION_RATIO_5D.signal = RotationRatio(interval_5day)",
    "ROTATION_RATIO_5D_GROUP.signal = CsMean(RotationRatio(interval_5day))",
    "ROTATION_RATIO_5D_REL.signal = ExchangeNeut(RotationRatio(interval_5day))",
    "market_cap = Multiply(CLOSE_PRICE, nshares_day)",

    "valid_time_window(s, e) = And(And(VALID, Lt(hhmmss, e)), Ge(hhmmss, s))",
    "time_0930_1600_sampler = valid_time_window(93100, 160000)",
    "time_1500_1600_sampler = valid_time_window(150000, 160000)",

    "all_model_sampler = valid_time_window(93100, 160000)",
    "front_model_sampler = valid_time_window(93100, 103100)",
    "middle_model_sampler = valid_time_window(103100, 150000)",
    "middle_back_model_sampler = valid_time_window(103100, 160000)",
    "front_middle_model_sampler = valid_time_window(93100, 150000)",
    "back_model_sampler = valid_time_window(150000, 160000)",
    //
    "front_15min_model_sampler = valid_time_window(93100, 94600)",
    "turnover_rank_15min_top50 = Le(CsRawRank(TsSum(TRADE_PQ_INFERRED, 15), universe), 50)",
    "turnover_rank_15min_top100 = Le(CsRawRank(TsSum(TRADE_PQ_INFERRED, 15), universe), 100)",
    "all_model_sampler_du = And(turnover_rank_15min_top100, all_model_sampler)",
    "front_model_sampler_du = And(turnover_rank_15min_top100, front_model_sampler)",
    "middle_model_sampler_du = And(turnover_rank_15min_top100, middle_model_sampler)",
    "front_15min_model_sampler_du = And(turnover_rank_15min_top100, front_15min_model_sampler)",
    "after_front_15min_model_sampler_du = And(turnover_rank_15min_top100, And(front_middle_model_sampler, Negation(front_15min_model_sampler)))",
    "front_middle_model_sampler_du = And(turnover_rank_15min_top100, front_middle_model_sampler)",
    "front_middle_model_sampler_not_du = And(front_middle_model_sampler, Negation(front_middle_model_sampler_du))",
    "back_model_sampler_du = And(turnover_rank_15min_top100, back_model_sampler)",
    //
    "universe_out_model_sampler = And(And(UNIVERSE_OUT_VALID, Lt(hhmmss, 160000)), Ge(hhmmss, 93100))"
  ],
  "interval_1day": 390,
  "io_spec": {
    "dump_data_names": [],
    "dump_data_root": "",
    "read_data_names": [
      "TOP200",
      "TOP600",
      "MOVE_BPS_SUM",
      "TRADE_CLOSE",
      "TRADE_QTY",
      "TRADE_PQ",
      "TRADE_BUY_PQ_INFERRED",
      "TRADE_BUY_COUNT_INFERRED",
      "TRADE_BUY_QTY_INFERRED",
      "TRADE_SELL_PQ_INFERRED",
      "TRADE_SELL_COUNT_INFERRED",
      "TRADE_SELL_QTY_INFERRED",
      "adj_factor",
      "nshares_day",
      "prev_adj_factor",
      "prev_open_day",
      "prev_high_day",
      "prev_low_day",
      "prev_close_day",
      "prev_5days_max_volatility",
      "prev_5days_max_atr",
      "prev_5days_intra_volatility",
      "prev2_close_2_prev_close",
      "prev_open_2_prev_close",
      "SPREAD_CLOSE",

      "SPREAD_SUM",
      "ODD_LOT_TRADE_QTY",
      "TRADE_ODD_LOT_PQ",

      "prev_5days_ovn_volatility",
      "log_prev_rotation",
      "prev_5days_interval_length",
      "hhmmss",
      "exch",
      "ESTIMATED_ASK_0_PRICE",
      "ASK_0_QTY",
      "ESTIMATED_BID_0_PRICE",
      "BID_0_QTY",
      "TRADE_COUNT",
      "BOOK_VALID_COUNT",
      "ESTIMATED_MID_PRICE_CLOSE",
      "TRADE_HIGH",
      "TRADE_LOW",
      "TRADE_OPEN",
      "sector_top2000"
    ]
  },
  "n_prev_days": 5
}
